<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
    <title>Expandable List</title>
    <style>
        body {
            font-family: 'Open Sans', sans-serif; /* Apply Open Sans font to the entire page */
        }

        /* Style for all <li> elements */
        li {
            list-style-type: none; /* Removes default bullet points */
            margin: 5px 0;
        }

        /* Style for .collapsible class */
        li.collapsible {
            padding: 5px;
            border: 1px solid #ccc; /* Adds a border */
            border-radius: 5px; /* Rounds the corners */
            background-color: #f9f9f9; /* Light grey background */
        }

        /* Style for the nested <ul> inside .collapsible */
        li.collapsible ul {
            margin-left: 20px; /* Indents the nested list */
            padding-left: 0;
            display: none; /* Hides the nested list by default */
        }

        /* Style for .content class */
        ul.content {
            margin-left: 20px; /* Indents the content list */
            padding-left: 0;
        }

        /* Style for .arrow class */
        span.arrow {
            font-size: 1.2em; /* Increases font size */
            margin-right: 10px; /* Adds space to the right of the arrow */
            display: inline-block; /* Ensures the arrow and text are on the same line */
            transition: transform 0.3s; /* Adds transition for arrow rotation */
            cursor: pointer; /* Changes cursor to pointer */
            pointer-events: all; /* Ensure arrow is clickable */
        }

        /* Hidden checkbox */
        input[type="checkbox"] {
            display: none;
        }

        /* Rotate arrow when checkbox is checked */
        input[type="checkbox"]:checked + label > span.arrow {
            transform: rotate(90deg);
        }

        /* Show content when checkbox is checked */
        input[type="checkbox"]:checked + label + ul {
            display: block;
        }

        /* Style for <li> elements inside ul.a */
        ul.a li {
            margin-left: 15px; /* Indents items in list 'a' */
            padding: 3px 0; /* Adds vertical padding */
        }

        /* Prevent text from triggering clicks */
        label > span.text {
            pointer-events: none;
        }
    </style>
</head>
<body>
    <button id="expandAll">Expand All</button>
    <button id="collapseAll">Collapse All</button>
    <ul id="myList">
        <li class="collapsible">
            <input type="checkbox" id="item-1">
            <label for="item-1">
                <span class="arrow">▶</span>
                <span class="text">au-nine-product-engineering-9now-group &emsp;
                <a href="https://groups.google.com/a/group.nine.com.au/g/au-nine-product-engineering-9now-group/members" target="_blank">link</a>
                </span>
            </label>
            <ul class="content">
                <li class="collapsible">
                    <input type="checkbox" id="item-1-1">
                    <label for="item-1-1">
                        <span class="arrow">▶</span>
                        <span class="text">Layer 1.1</span>
                    </label>
                    <ul class="a">
                        <li>Item 1</li>
                        <li>Item 2</li>
                        <li>Item 3</li>
                        <li class="collapsible">
                            <input type="checkbox" id="item-1-1-1">
                            <label for="item-1-1-1">
                                <span class="arrow">▶</span>
                                <span class="text">Sub Layer 1.1.1</span>
                            </label>
                            <ul class="b">
                                <li>Sub Item 1</li>
                                <li>Sub Item 2</li>
                                <li>Sub Item 3</li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </li>
    </ul>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        var arrows = document.querySelectorAll(".arrow");
        arrows.forEach(function(arrow) {
            arrow.addEventListener("click", function(event) {
                var checkbox = this.parentElement.previousElementSibling;
                checkbox.checked = !checkbox.checked;
                event.stopPropagation();
            });
        });

        document.getElementById('collapseAll').addEventListener('click', function() {
            var checkboxes = document.querySelectorAll('.collapsible input[type="checkbox"]');
            checkboxes.forEach(function(checkbox) {
                checkbox.checked = false;
            });
        });
    
        document.getElementById('expandAll').addEventListener('click', function() {
            var checkboxes = document.querySelectorAll('.collapsible input[type="checkbox"]');
            checkboxes.forEach(function(checkbox) {
                checkbox.checked = true;
            });
        });
    });
    </script>
</body>
</html>
